import React from "react";
import PropTypes from "prop-types";

import styles from "./style.module.scss";

const TaskView = ({
  taskText,
  isTaskDone,
  isEditMode,
  handleTaskDone,
  handleEditTask,
  handleTaskChange,
  handleSaveEdits,
  handleCancelSavingEdits,
  handleDeleteTask,
}) => {
  return (
    <div className={styles.taskWrapper}>
      {!isEditMode ? (
        <div className={styles.inputWrapper}>
          <div
            className={`${styles.taskItem} ${isTaskDone && styles.ready} `}
            onClick={handleTaskDone}
          >
            {taskText}
          </div>
          <button disabled={isTaskDone} onClick={handleEditTask}>
            <svg
              height="13pt"
              viewBox="-15 -15 484.00019 484"
              width="13pt"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="m401.648438 18.234375c-24.394532-24.351563-63.898438-24.351563-88.292969 0l-22.101563 22.222656-235.269531 235.144531-.5.503907c-.121094.121093-.121094.25-.25.25-.25.375-.625.746093-.871094 1.121093 0 .125-.128906.125-.128906.25-.25.375-.371094.625-.625 1-.121094.125-.121094.246094-.246094.375-.125.375-.25.625-.378906 1 0 .121094-.121094.121094-.121094.25l-52.199219 156.96875c-1.53125 4.46875-.367187 9.417969 2.996094 12.734376 2.363282 2.332031 5.550782 3.636718 8.867188 3.625 1.355468-.023438 2.699218-.234376 3.996094-.625l156.847656-52.324219c.121094 0 .121094 0 .25-.121094.394531-.117187.773437-.285156 1.121094-.503906.097656-.011719.183593-.054688.253906-.121094.371094-.25.871094-.503906 1.246094-.753906.371093-.246094.75-.621094 1.125-.871094.125-.128906.246093-.128906.246093-.25.128907-.125.378907-.246094.503907-.5l257.371093-257.371094c24.351563-24.394531 24.351563-63.898437 0-88.289062zm-232.273438 353.148437-86.914062-86.910156 217.535156-217.535156 86.914062 86.910156zm-99.15625-63.808593 75.929688 75.925781-114.015626 37.960938zm347.664062-184.820313-13.238281 13.363282-86.917969-86.917969 13.367188-13.359375c14.621094-14.609375 38.320312-14.609375 52.945312 0l33.964844 33.964844c14.511719 14.6875 14.457032 38.332031-.121094 52.949218zm0 0" />
            </svg>
          </button>
        </div>
      ) : (
        <div className={styles.inputWrapper}>
          <input
            className={styles.editTask}
            onChange={handleTaskChange}
            value={taskText}
            type="text"
          />
          <button disabled={taskText === ""} onClick={handleSaveEdits}>
            <svg
              id="bold"
              height="13"
              viewBox="0 0 24 24"
              width="13"
              xmlns="http://www.w3.org/2000/svg"
            >
              <g>
                <path d="m9.707 19.121c-.187.188-.442.293-.707.293s-.52-.105-.707-.293l-5.646-5.647c-.586-.586-.586-1.536 0-2.121l.707-.707c.586-.586 1.535-.586 2.121 0l3.525 3.525 9.525-9.525c.586-.586 1.536-.586 2.121 0l.707.707c.586.586.586 1.536 0 2.121z" />
              </g>
            </svg>
          </button>
          <button onClick={handleCancelSavingEdits}>
            <svg
              height="13pt"
              viewBox="-32 0 512 512"
              width="13pt"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="m192 512c-68.394531 0-132.671875-26.625-181.035156-74.988281-4.160156-4.160157-4.160156-10.921875 0-15.082031 4.160156-4.160157 10.921875-4.160157 15.082031 0 44.332031 44.332031 103.277344 68.738281 165.953125 68.738281s121.601562-24.40625 165.929688-68.738281c44.332031-44.328126 68.738281-103.253907 68.738281-165.929688s-24.40625-121.621094-68.738281-165.953125c-44.328126-44.328125-103.253907-68.714844-165.929688-68.714844s-121.601562 24.40625-165.929688 68.738281c-4.160156 4.160157-10.921874 4.160157-15.082031 0-4.160156-4.160156-4.160156-10.921874 0-15.082031 48.359375-48.363281 112.636719-74.988281 181.011719-74.988281 68.394531 0 132.671875 26.625 181.035156 74.988281 48.363282 48.359375 74.964844 112.636719 74.964844 181.011719s-26.625 132.652344-74.988281 181.011719c-48.359375 48.363281-112.636719 74.988281-181.011719 74.988281zm0 0" />
              <path d="m96 106.667969h-85.332031c-5.890625 0-10.667969-4.78125-10.667969-10.667969v-85.332031c0-5.890625 4.777344-10.667969 10.667969-10.667969 5.886719 0 10.664062 4.777344 10.664062 10.667969v74.664062h74.667969c5.886719 0 10.667969 4.78125 10.667969 10.667969s-4.78125 10.667969-10.667969 10.667969zm0 0" />
            </svg>
          </button>
        </div>
      )}
      <button onClick={handleDeleteTask}>
        <svg
          height="9pt"
          viewBox="0 0 311 311.07733"
          width="9pt"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="m16.035156 311.078125c-4.097656 0-8.195312-1.558594-11.308594-4.695313-6.25-6.25-6.25-16.382812 0-22.632812l279.0625-279.0625c6.25-6.25 16.382813-6.25 22.632813 0s6.25 16.382812 0 22.636719l-279.058594 279.058593c-3.136719 3.117188-7.234375 4.695313-11.328125 4.695313zm0 0" />
          <path d="m295.117188 311.078125c-4.097657 0-8.191407-1.558594-11.308594-4.695313l-279.082032-279.058593c-6.25-6.253907-6.25-16.386719 0-22.636719s16.382813-6.25 22.636719 0l279.058594 279.0625c6.25 6.25 6.25 16.382812 0 22.632812-3.136719 3.117188-7.230469 4.695313-11.304687 4.695313zm0 0" />
        </svg>
      </button>
    </div>
  );
};

TaskView.propTypes = {
  taskText: PropTypes.string.isRequired,
  isTaskDone: PropTypes.bool.isRequired,
  isEditMode: PropTypes.bool.isRequired,
  handleTaskDone: PropTypes.func.isRequired,
  handleEditTask: PropTypes.func.isRequired,
  handleTaskChange: PropTypes.func.isRequired,
  handleSaveEdits: PropTypes.func.isRequired,
  handleCancelSavingEdits: PropTypes.func.isRequired,
  handleDeleteTask: PropTypes.func.isRequired,
};

export default TaskView;
